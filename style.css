/* Basic reset & variables */
:root{
  --accent:#c72b56;
  --soft:#ffdfe6;
  --card-bg:#fff8f0;
  --muted:#7a4b54;
  --glass: rgba(255,255,255,0.6);
  --shadow: 0 10px 30px rgba(0,0,0,0.10);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Nunito, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
body{
  background: linear-gradient(160deg,#ffd7e0 0%,#ffdede 25%,#e6d3ff 100%);
  color:#3b2b2f;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow-y:auto;
}

/* helpers */
main{max-width:980px;margin:0 auto;padding:28px 18px 80px}
.section{margin-bottom:28px}
.card{background:var(--card-bg);border-radius:14px;padding:18px;box-shadow:var(--shadow)}

/* audio control */
.audio-wrap{position:fixed;top:16px;right:16px;z-index:110}
.play-btn{background:#ffffff;padding:8px 12px;border-radius:999px;border:none;box-shadow:0 6px 16px rgba(0,0,0,0.08);cursor:pointer}

/* HERO / messages */
.hero-title{font-family:'Great Vibes',cursive;font-size:44px;margin:6px 0 6px;color:var(--accent);text-align:center}
.hero-sub{text-align:center;color:var(--muted);margin-bottom:12px}

.messages .msg-area{min-height:80px;display:flex;align-items:center;justify-content:center}
.message{font-family:'Pacifico',cursive;font-size:20px;color:#4a2b34;padding:14px 18px;border-radius:12px;background:linear-gradient(180deg,#ffffff,#fff6f3);box-shadow:0 8px 18px rgba(0,0,0,0.06);opacity:0;transform:translateY(20px);transition:all .45s cubic-bezier(.2,.9,.3,1)}
.message.show{opacity:1;transform:translateY(0)}

.controls{display:flex;gap:10px;justify-content:center;margin-top:12px}
.btn{background:linear-gradient(180deg,#ff9fb1,#ff6a88);border:none;color:white;padding:8px 14px;border-radius:10px;cursor:pointer}
.btn.small{padding:8px 12px;font-size:14px}.btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--muted)}

/* Player section */
.player{display:flex;gap:16px;align-items:flex-start;flex-wrap:wrap}
.player-left{width:140px;flex:0 0 140px}
.artwork{width:140px;height:140px;border-radius:12px;background:linear-gradient(180deg,#fff0f2,#ffdfe6);display:flex;align-items:center;justify-content:center;box-shadow:inset 0 -10px 20px rgba(0,0,0,0.03)}
.art-heart{font-size:40px}
.player-right{flex:1;min-width:220px}
#trackTitle{font-weight:700;margin:0}
.muted{color:var(--muted);font-size:13px;margin:6px 0 10px}

/* playback controls */
.controls-row{display:flex;gap:12px;align-items:center;margin-bottom:10px}
.icon-btn{background:#fff;border:1px solid rgba(0,0,0,0.05);padding:8px 10px;border-radius:10px;cursor:pointer}
.play-large{background:linear-gradient(180deg,#ff9fb1,#ff6a88);padding:12px 18px;border-radius:999px;border:none;color:white;cursor:pointer;font-size:16px}

/* progress bar */
.progress-wrap{display:flex;align-items:center;gap:10px}
.progress{flex:1;height:8px;background:#f2e7e8;border-radius:999px;overflow:hidden;position:relative}
.progress-bar{position:absolute;left:0;top:0;height:100%;width:0;background:linear-gradient(90deg,#ff6a88,#ff9fb1)}
.time{font-size:12px;color:var(--muted);min-width:36px;text-align:center}

/* lyrics */
.lyrics-box{margin-top:12px;background:rgba(255,255,255,0.9);padding:10px;border-radius:10px;max-height:180px;overflow:auto}
.lyrics-inner{display:flex;flex-direction:column;gap:6px}
.lyric{font-size:15px;color:#4a2b34;opacity:0.45;transition:all .25s}
.lyric.active{font-weight:700;color:var(--accent);opacity:1;transform:translateX(0)}

/* game */
.game-card{text-align:center}
.game-area{height:260px;border-radius:12px;background:linear-gradient(180deg,#fff7f7,#fff0f2);position:relative;overflow:hidden;margin:14px 0;padding:8px}
.heart-game{position:absolute;font-size:20px;cursor:pointer;user-select:none;transition:transform .12s ease}
.game-controls{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-top:8px}
.score{font-weight:700}
#startGame, #replayGame{padding:8px 12px;border-radius:10px;border:none;background:linear-gradient(180deg,#ff9fb1,#ff6a88);color:#fff}

/* footer */
.footer{text-align:center;color:var(--muted);margin-top:18px;font-size:13px}

/* hearts celebration (global) */
.hearts{position:fixed;inset:0;pointer-events:none;overflow:hidden;z-index:150}
.hearts .heart{position:absolute;font-size:22px;animation:floatUp 4s linear forwards}
@keyframes floatUp{0%{transform:translateY(100vh) scale(.7);opacity:1}100%{transform:translateY(-10vh) scale(1.1);opacity:0}}

/* responsive */
@media (max-width:720px){
  .player{flex-direction:column;align-items:center}
  .player-left{width:120px;flex-basis:120px}
  .art-heart{font-size:34px}
  .lyrics-box{max-height:160px}
}
